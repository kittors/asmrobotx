# 组织模块接口说明

## GET `/api/v1/organizations`

列出全部可用的组织机构，供数据权限分配、用户归属展示等场景使用（注册流程不再选择组织）。

### 请求头
- 无特殊要求。

### 请求参数
- 支持的查询参数：无。

### 成功响应
- 状态码：`200`
- 响应体：
```json
{
  "msg": "获取组织机构列表成功",
  "data": [
    { "org_id": 1, "org_name": "研发部" },
    { "org_id": 2, "org_name": "市场部" }
  ],
  "code": 200
}
```

### 异常响应
- 正常情况下无额外错误；若数据库连接异常将返回标准的 `500` 响应。

### 备注
- 返回结果默认按照数据库插入顺序排列，可在前端进行额外排序。
- 组织列表缓存策略暂未实现，访问将直接查询数据库。后续若启用缓存，在此文档补充说明。

## GET `/api/v1/organizations/tree`

以树形结构返回组织机构信息，包含父子关系与同级排序。

### 请求头
- 无特殊要求。

### 请求参数
- 无。

### 成功响应
- 状态码：`200`
- 响应体：
```json
{
  "msg": "获取组织树成功",
  "data": [
    {
      "org_id": 1,
      "org_name": "总部",
      "parent_id": null,
      "sort_order": 0,
      "children": [
        { "org_id": 2, "org_name": "研发部", "parent_id": 1, "sort_order": 1, "children": [] },
        { "org_id": 3, "org_name": "市场部", "parent_id": 1, "sort_order": 2, "children": [] }
      ]
    }
  ],
  "code": 200
}
```

### 备注
- 同级节点按照 `sort_order` 升序，其次按 `id` 升序排列。
- 允许不同父节点下出现同名组织（如各分公司均有“研发部”）。
